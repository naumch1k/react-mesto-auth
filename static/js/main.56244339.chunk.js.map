{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Main.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","images/success-icon.svg","images/fail-icon.svg","components/InfoTooltip.js","utils/api.js","utils/constants.js","components/ProtectedRoute.js","components/App.js","utils/auth.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","userEmail","onSignOut","location","useLocation","className","src","logoPath","alt","pathname","to","onClick","type","CurrentUserContext","React","createContext","Card","card","onCardLike","onCardDelete","currentUser","useContext","isOwned","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","aria-label","length","Loader","Main","props","avatar","onEditAvatar","about","onEditProfile","onAddPlace","isLoading","cards","map","onCardClick","Login","onLogin","useState","email","setEmail","password","setPassword","onSubmit","e","preventDefault","noValidate","id","placeholder","value","onChange","target","required","Register","onRegistration","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","title","children","buttonText","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","InfoTooltip","isSuccess","successIcon","failIcon","api","options","this","_baseUrl","baseUrl","_token","headers","authorization","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","data","method","body","JSON","stringify","cardId","_deleteLike","_setLike","BASE_URL","ProtectedRoute","Component","component","App","setCurrentUser","setLoggedIn","setUserEmail","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setIsSuccess","profileSubmitButtonText","setProfileSubmitButtonText","avatarSubmitButtonText","setAvatarSubmitButtonText","cardSubmitButtonText","setCardSubmitButtonText","setCards","selectedCard","setSelectedCard","setIsLoading","history","useHistory","tokenCheck","all","getUserInfo","getCards","userData","cardsData","catch","err","console","log","finally","localStorage","getItem","token","Authorization","statusText","auth","push","closeAllPopups","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","state","currentCard","deleteCard","filter","setItem","setUserInfo","addNewCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.56244339.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.5f3664ca.svg\";","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport logoPath from './../images/header-logo.svg';\n\nfunction Header({ loggedIn, userEmail, onSignOut }) {\n  const location = useLocation();\n\n  return (\n    <header className=\"header page__header\">\n      <img className=\"header__logo\" src={logoPath} alt=\"Логотип сервиса Mesto Russia\" />\n      {!loggedIn &&\n        (<nav>\n          {location.pathname === '/sign-in' &&\n            (\n              <Link className=\"header__navlink\" to=\"/sign-up\">\n                Регистрация\n              </Link>\n            )\n          }\n          {location.pathname === '/sign-up' &&\n            (\n              <Link className=\"header__navlink\" to=\"/sign-in\">\n                Войти\n              </Link>\n            )\n          }\n        </nav>)\n      }\n      {loggedIn &&\n        (<>\n          <p className=\"header__email\">{userEmail}</p>\n          <button onClick={onSignOut} className=\"header__button\" type=\"button\">\n            Выйти\n          </button>\n        </>)\n      }\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwned = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (\n    `element__delete-btn ${isOwned ? '' : 'element__delete-btn_hidden'}`\n  );\n\n  const cardLikeButtonClassName = (\n    `element__like-btn ${isLiked ? 'element__like-btn_active' : ''}`\n  ); \n\n  const handleClick = () => {\n    onClick(card);\n  }\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return(\n    <li className=\"element\">\n      <img onClick={handleClick} className=\"element__image\" src={card.link} alt={`Изображение ${card.name}`} />\n      <div className=\"element__desc\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\" aria-label=\"Поставить лайк\"></button>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n      <button onClick={handleDeleteClick} className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить фотографию\"></button>\n    </li>\n  );\n\n}\n\nexport default Card; ","import React from 'react';\n\nfunction Loader()  {\n  return (\n    <div className=\"loader\">\n    </div>\n  );\n};\n\nexport default Loader;","import React, { useContext } from 'react';\nimport Card from './Card';\nimport Loader from './Loader';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile content__section\">\n        <div className=\"profile__avatar-container\">\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Логотип профиля\" />\n          <button className=\"profile__avatar-btn\" aria-label=\"Обновить аватар\"\n          onClick={props.onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <p className=\"profile__bio\">{currentUser.about}</p>\n          <button className=\"profile__edit-btn\" type=\"button\" aria-label=\"Редактировать профиль\"\n          onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button className=\"profile__add-btn\" type=\"button\" aria-label=\"Добавить фотографию\"\n        onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements content__section\">\n        {props.isLoading \n          ? <Loader />\n          : <ul className=\"elements__list\">\n            {props.cards.map((card) => (\n              <Card \n                key={card._id}\n                card={card}\n                onClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n              ))}          \n            </ul>\n        }\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React, { useState } from 'react';\n\nfunction Login({ onLogin }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onLogin({\n      \"password\": password,\n      \"email\": email,\n    });\n  }\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  }\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  }\n\n  return(\n    <form onSubmit={handleSubmit} className=\"form form_theme_dark\" name=\"login-form\" noValidate>\n      <h2 className=\"form__heading\">Вход</h2>\n      <fieldset className=\"form__items form__items_theme_dark\">\n        <input \n          className=\"form__item form__item_theme_dark form__item_el_email\"\n          id=\"email\" \n          type=\"email\" \n          name=\"email\" \n          placeholder=\"Email\"\n          value={email}\n          onChange={handleEmailChange}\n          required \n        />\n        <p className=\"form__error\" id=\"email-error\"></p>\n        <input \n          className=\"form__item form__item_theme_dark form__item_el_password\"\n          id=\"password\" \n          type=\"password\" \n          name=\"password\" \n          placeholder=\"Пароль\" \n          value={password}\n          onChange={handlePasswordChange}\n          required \n        />\n        <p className=\"form__error\" id=\"password-error\"></p>\n      </fieldset>\n      <button className=\"form__submit-btn form__submit-btn_theme_dark\" type=\"submit\">Войти</button>\n    </form>\n  );\n}\n\nexport default Login; \n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ onRegistration }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onRegistration({\n      \"password\": password,\n      \"email\": email,\n    });\n  }\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  }\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  }\n\n  return(\n    <form onSubmit={handleSubmit} className=\"form form_theme_dark\" name=\"signup-form\" noValidate>\n      <h2 className=\"form__heading\">Регистрация</h2>\n      <fieldset className=\"form__items form__items_theme_dark\">\n        <input \n          className=\"form__item form__item_theme_dark form__item_el_email\"\n          id=\"email\" \n          type=\"email\" \n          name=\"email\" \n          placeholder=\"Email\"\n          value={email}\n          onChange={handleEmailChange}\n          required \n        />\n        <p className=\"form__error\" id=\"email-error\"></p>\n        <input \n          className=\"form__item form__item_theme_dark form__item_el_password\"\n          id=\"password\" \n          type=\"password\" \n          name=\"password\" \n          placeholder=\"Пароль\" \n          value={password}\n          onChange={handlePasswordChange}\n          required \n        />\n        <p className=\"form__error\" id=\"password-error\"></p>\n      </fieldset>\n      <button className=\"form__submit-btn form__submit-btn_theme_dark\" type=\"submit\">Зарегистрироваться</button>\n      <p className=\"form__text\">\n        Уже зарегистрированы?\n        <Link to=\"/sign-in\" className=\"form__link\"> Войти</Link>\n      </p>\n    </form>\n  );\n}\n\nexport default Register;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name}  ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_form\">\n        <button onClick={props.onClose} className=\"popup__close-btn\" type=\"button\" aria-label=\"Закрыть окно\"></button>\n        <form onSubmit={props.onSubmit} className=\"form\" name={`${props.name}-form`} noValidate>\n        <h2 className=\"form__heading\">{props.title}</h2>\n          <fieldset className=\"form__items\">\n            {props.children}\n          </fieldset>\n          <button className=\"form__submit-btn\" type=\"submit\">{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  \n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  }\n\n  const hanldeDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input \n        className=\"form__item form__item_el_name\"\n        id=\"profile-name\" \n        type=\"text\" \n        name=\"name\" \n        placeholder=\"Имя\" \n        minLength=\"2\" maxLength=\"40\"\n        value={name}\n        onChange={handleNameChange}\n        required \n      />\n      <p className=\"form__error\" id=\"profile-name-error\"></p>\n      <input \n        className=\"form__item form__item_el_bio\"\n        id=\"profile-bio\" \n        type=\"text\" \n        name=\"about\" \n        placeholder=\"О себе\" \n        minLength=\"2\" maxLength=\"200\" \n        value={description}\n        onChange={hanldeDescriptionChange}\n        required \n      />\n      <p className=\"form__error\" id=\"profile-bio-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  \n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input \n        className=\"form__item\"\n        id=\"avatar-url\"\n        type=\"url\"\n        name=\"avatar\"\n        ref={avatarRef}\n        placeholder=\"Ссылка на картинку\"\n        required \n      />\n      <p className=\"form__error\" id=\"avatar-url-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name,\n      link,\n    })\n  }\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  }\n\n  const handleLinkChange = (e) => {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input\n        className=\"form__item form__item_el_name\"\n        id=\"item-name\"\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Название\"\n        minLength=\"2\" maxLength=\"30\"\n        value={name}\n        onChange={handleNameChange}\n        required\n      />\n      <p className=\"form__error\" id=\"item-name-error\"></p>\n      <input\n        className=\"form__item form__item_el_link\"\n        id=\"item-url\"\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        value={link}\n        onChange={handleLinkChange}\n        required\n      />\n      <p className=\"form__error\" id=\"item-url-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_image ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button onClick={props.onClose} className=\"popup__close-btn\" type=\"button\" aria-label=\"Закрыть окно\"></button>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" src={`${props.card.link}`} alt={`Изображение ${props.card.name}`} />\n          <figcaption className=\"popup__image-caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail-icon.df8eddf6.svg\";","import React from 'react';\n\nimport successIcon from '../images/success-icon.svg'\nimport failIcon from '../images/fail-icon.svg'\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_message\">\n        <img\n          className=\"popup__icon\"\n          src={props.isSuccess ? successIcon : failIcon}\n          alt={props.isSuccess ? 'Иконка успешной регистрации' : 'Иконка ошибки регистрации'}\n        />\n        <p className=\"popup__message\">\n          {props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\n        </p>\n        <button onClick={props.onClose} className=\"popup__close-btn\" type=\"button\" aria-label=\"Закрыть окно\"></button>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;","class Api {\n  \n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._token = options.headers.authorization;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._handleResponse)\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._deleteLike(cardId);\n    } else {\n      return this._setLike(cardId);\n    }\n  }\n\n  _deleteLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  _setLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  headers: {\n    authorization: '2a6d7634-25aa-4e7e-bcf3-8309525480f9',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\nexport const ESCAPE_KEY = \"Escape\";\n\nexport const formValidationSettings = {\n  formSelector: '.form',\n  inputSelector: '.form__item',\n  submitButtonSelector: '.form__submit-btn',\n  inactiveButtonClass: 'form__submit-btn_disabled',\n  inputErrorClass: 'form__item_type_error',\n  errorClass: 'form__error_active'\n};\n\nexport const userData = {\n  userNameSelector: '.profile__name',\n  userBioSelector: '.profile__bio',\n  userAvatarSelector: '.profile__avatar'\n}\n\nexport const popupSelectors = {\n  editPopupSelector: \".popup_type_edit\",\n  addPopupSelector: \".popup_type_add\",\n  imagePopupSelector: \".popup_type_image\",\n  confirmPopupSelector: \".popup_type_confirm\",\n  editAvatarPopupSelector: \".popup-type-avatar\"\n}\n\nexport const formSelectors = {\n  editProfileFormSelector: \".edit-form\",\n  addFormSelector: \".add-form\",\n  editAvatarFormSelector: \".avatar-form\"\n}\n\nexport const openPopupButtonSelectors = {\n  openEditPopupButtonSelector: \".profile__edit-btn\",\n  openAddPopupButtonSelector: \".profile__add-btn\",\n  openEditAvatarButtonSelector: \".profile__avatar-btn\"\n}\n\nexport const elementsListSelector = '.elements__list';\nexport const profileSelector = \".profile\";\nexport const editFormInputNameSelector = \".form__item_el_name\";\nexport const editFormInputBioSelector = \".form__item_el_bio\";\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useEffect, useState } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\n/* import PageNotFound from './PageNotFound'; */\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({\n    name: 'Irina',\n    about: 'offline',\n    avatar: '',\n  });\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState(\"\");\n  \n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  \n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  \n  const [profileSubmitButtonText, setProfileSubmitButtonText] = useState('Сохранить');\n  const [avatarSubmitButtonText, setAvatarSubmitButtonText] = useState('Сохранить');\n  const [cardSubmitButtonText, setCardSubmitButtonText] = useState('Создать');\n  \n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n  \n  const [isLoading, setIsLoading] = useState(false);\n  \n  const history = useHistory();\n\n  useEffect(() => {\n    tokenCheck();\n  }, [])\n\n  useEffect(() => {\n    setIsLoading(true);\n  \n     Promise.all([api.getUserInfo(), api.getCards()])\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log(`Couldnt get data from the server. ${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      }); \n  \n   }, [])\n  \n  const tokenCheck = () => {\n    if (localStorage.getItem('jwt')){\n      const token = localStorage.getItem('jwt');\n      \n      if (token) {\n        auth.checkToken(token)\n          .then((res) => {\n            if (res) {\n              setLoggedIn(true);\n              setUserEmail(res.data.email);\n              history.push('/');\n            }\n          })\n          .catch((err) => {\n            console.log(`Error: ${err}`);\n          })\n      }\n    }\n  }\n  \n  const handleRegistration = (data) => {\n    auth.register(data)\n      .then((res) => {\n        if (res) {\n          setIsSuccess(true);\n          setIsInfoTooltipPopupOpen(true);\n          history.push('/sign-in');\n        } else {\n          setIsSuccess(false);\n          setIsInfoTooltipPopupOpen(true);\n        }\n      })\n      .catch((err) => {\n        console.log(`Unable to register. ${err}`);\n      })\n  }\n  \n  const handleLogin = (data) => {\n    auth.authorize(data)\n      .then((res) => {\n        setLoggedIn(true);\n        setUserEmail(data.email);\n        localStorage.setItem('jwt', res.token);\n        history.push('/');\n      })\n      .catch((err) => {\n        console.log(`Unable to login. ${err}`);\n      })\n  }\n  \n  const handleSignOut = () => {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    history.push(\"/sign-in\");\n  }\n  \n  const handleUpdateUser = (data) => {\n    setProfileSubmitButtonText('Сохранение...');\n  \n     api.setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to update user info. ${err}`);\n      })\n      .finally(() => {\n        setProfileSubmitButtonText('Сохранить');\n      })\n  }\n  \n  const handleAddPlace = (data) => {\n    setCardSubmitButtonText('Сохранение...');\n  \n     api.addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => {\n        setAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to publish a card. ${err}`);\n      })\n      .finally(() => {\n        setCardSubmitButtonText('Создать');\n      })\n  }\n  \n  const handleUpdateAvatar = (data) => {\n    setAvatarSubmitButtonText('Сохранение...');\n  \n     api.setUserAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to update user avatar. ${err}`);\n      })\n      .finally(() => {\n        setAvatarSubmitButtonText('Сохранить');\n      })\n  }\n  \n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n  \n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((currentCard) => currentCard._id === card._id ? newCard : currentCard));\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n  }\n  \n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item !== card));\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n  }\n  \n  function handleEditProfilePopupOpen() {\n    setEditProfilePopupOpen(true);\n  }\n  \n  function handleAddPlacePopupOpen() {\n    setAddPlacePopupOpen(true);\n  }\n  \n  function handleEditAvatarPopupOpen() {\n    setEditAvatarPopupOpen(true);\n  }\n  \n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  \n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltipPopupOpen(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header \n            loggedIn={loggedIn}\n            userEmail={userEmail}\n            onSignOut={handleSignOut}\n          />\n          <Switch>\n            <ProtectedRoute\n              exact path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              cards={cards}\n              onEditProfile={handleEditProfilePopupOpen}\n              onAddPlace={handleAddPlacePopupOpen}\n              onEditAvatar={handleEditAvatarPopupOpen}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              isLoading={isLoading}\n            />\n            <Route path=\"/sign-up\">\n              <Register\n                onRegistration={handleRegistration}\n              />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login\n                 onLogin={handleLogin}\n              />\n            </Route>\n            {/* <Route path=\"*\">\n              <PageNotFound />\n            </Route> */}\n          </Switch>\n          { loggedIn && <Footer /> }\n          <EditProfilePopup \n            buttonText={profileSubmitButtonText}\n            isOpen={isEditProfilePopupOpen}\n            onUpdateUser={handleUpdateUser}\n            onClose={closeAllPopups}\n          />\n          <AddPlacePopup\n            buttonText={cardSubmitButtonText}\n            isOpen={isAddPlacePopupOpen}\n            onAddPlace={handleAddPlace}\n            onClose={closeAllPopups}\n          >\n          </AddPlacePopup>\n          <EditAvatarPopup \n            buttonText={avatarSubmitButtonText}\n            isOpen={isEditAvatarPopupOpen}\n            onUpdateAvatar={handleUpdateAvatar}\n            onClose={closeAllPopups}\n          /> \n          <PopupWithForm\n            name=\"confirm\"\n            title=\"Вы уверены?\"\n            buttonText=\"Да\"\n          />\n          { selectedCard && \n          <ImagePopup \n            card={selectedCard} \n            onClose={closeAllPopups}\n          />\n          }\n          <InfoTooltip\n            isOpen={isInfoTooltipPopupOpen}\n            isSuccess={isSuccess}\n            onClose={closeAllPopups}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App;\n","import { BASE_URL } from './constants';\n\nexport const register = ({password, email}) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\" \n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  })\n  .then((res) => {\n    try {\n      if (res.ok) {\n        return res.json();\n      }\n    } catch(e) {\n      return (e)\n    }\n  })\n  .then((res) => {\n    return res;\n  })\n  .catch((err) => console.log(err));\n}\n\nexport const authorize = ({password, email}) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\" \n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        console.log(`Server responded with status: ${res.status} ${res.statusText}`)\n      }\n    })\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n  .then((res) => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      console.log(`Server responded with status: ${res.status} ${res.statusText}`)\n    }\n  })\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}