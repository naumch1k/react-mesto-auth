{"ast":null,"code":"import _slicedToArray from\"/Users/eldorado/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import api from'../utils/api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){console.log(\"Error: \".concat(err));});});React.useEffect(function(){api.getCards().then(function(res){setCards(res.map(function(item){return{name:item.name,link:item.link,likes:item.likes.length};}));}).catch(function(err){console.log(\"Error: \".concat(err));});});return/*#__PURE__*/_jsxs(\"main\",{className:\"content page__content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile content__section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-btn\",\"aria-label\":\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",onClick:props.onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__bio\",children:userDescription}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-btn\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onClick:props.onEditProfile})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-btn\",type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements content__section\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"elements__list\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{onClick:props.onCardClick,card:card});})})})]});}export default Main;","map":{"version":3,"sources":["/Users/eldorado/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","Main","props","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","getUserInfo","then","res","name","about","avatar","catch","err","console","log","getCards","map","item","link","likes","length","onEditAvatar","onEditProfile","onAddPlace","card","onCardClick"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CACnB,oBAAgCJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8CP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9C,qDAAOG,eAAP,qBAAwBC,kBAAxB,qBACA,qBAAoCT,KAAK,CAACK,QAAN,CAAe,EAAf,CAApC,qDAAOK,UAAP,qBAAmBC,aAAnB,qBACA,qBAA0BX,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,qDAAOO,KAAP,qBAAcC,QAAd,qBAEAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBb,GAAG,CAACc,WAAJ,GACGC,IADH,CACQ,SAACC,GAAD,CAAS,CACbV,WAAW,CAACU,GAAG,CAACC,IAAL,CAAX,CACAT,kBAAkB,CAACQ,GAAG,CAACE,KAAL,CAAlB,CACAR,aAAa,CAACM,GAAG,CAACG,MAAL,CAAb,CACD,CALH,EAMGC,KANH,CAMS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,kBAAsBF,GAAtB,GACD,CARH,EASD,CAVD,EAYAtB,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBb,GAAG,CAACwB,QAAJ,GACGT,IADH,CACQ,SAACC,GAAD,CAAS,CACbJ,QAAQ,CAACI,GAAG,CAACS,GAAJ,CAAQ,SAAAC,IAAI,CAAI,CACvB,MAAO,CACLT,IAAI,CAAES,IAAI,CAACT,IADN,CAELU,IAAI,CAAED,IAAI,CAACC,IAFN,CAGLC,KAAK,CAAEF,IAAI,CAACE,KAAL,CAAWC,MAHb,CAAP,CAKD,CANQ,CAAD,CAAR,CAOD,CATH,EAUGT,KAVH,CAUS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,kBAAsBF,GAAtB,GACD,CAZH,EAaD,CAdD,EAgBA,mBACE,cAAM,SAAS,CAAC,uBAAhB,wBACE,iBAAS,SAAS,CAAC,0BAAnB,wBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,YAAK,SAAS,CAAC,iBAAf,CAAiC,GAAG,CAAEZ,UAAtC,CAAkD,GAAG,CAAC,uFAAtD,EADF,cAEE,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,aAAW,uFAAnD,CACA,OAAO,CAAEN,KAAK,CAAC2B,YADf,EAFF,GADF,cAOE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+BzB,QAA/B,EADF,cAEE,UAAG,SAAS,CAAC,cAAb,UAA6BE,eAA7B,EAFF,cAGE,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,IAAI,CAAC,QAA3C,CAAoD,aAAW,2HAA/D,CACA,OAAO,CAAEJ,KAAK,CAAC4B,aADf,EAHF,GAPF,cAcE,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,IAAI,CAAC,QAA1C,CAAmD,aAAW,+GAA9D,CACA,OAAO,CAAE5B,KAAK,CAAC6B,UADf,EAdF,GADF,cAmBE,gBAAS,SAAS,CAAC,2BAAnB,uBACE,WAAI,SAAS,CAAC,gBAAd,UACCrB,KAAK,CAACc,GAAN,CAAU,SAACQ,IAAD,qBACT,KAAC,IAAD,EAAM,OAAO,CAAE9B,KAAK,CAAC+B,WAArB,CAAkC,IAAI,CAAED,IAAxC,EADS,EAAV,CADD,EADF,EAnBF,GADF,CA6BD,CAED,cAAe/B,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport api from '../utils/api';\nimport Card from './Card';\n\nfunction Main(props) {\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((res) => {\n        setUserName(res.name);\n        setUserDescription(res.about);\n        setUserAvatar(res.avatar)\n      })\n      .catch((err) => {\n        console.log(`Error: ${err}`);\n      })\n  })\n\n  React.useEffect(() => {\n    api.getCards()\n      .then((res) => {\n        setCards(res.map(item => {\n          return {\n            name: item.name, \n            link: item.link, \n            likes: item.likes.length\n          };\n        }));\n      })\n      .catch((err) => {\n        console.log(`Error: ${err}`);\n      })\n  })\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile content__section\">\n        <div className=\"profile__avatar-container\">\n          <img className=\"profile__avatar\" src={userAvatar} alt=\"Логотип профиля\" />\n          <button className=\"profile__avatar-btn\" aria-label=\"Обновить аватар\"\n          onClick={props.onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{userName}</h1>\n          <p className=\"profile__bio\">{userDescription}</p>\n          <button className=\"profile__edit-btn\" type=\"button\" aria-label=\"Редактировать профиль\"\n          onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button className=\"profile__add-btn\" type=\"button\" aria-label=\"Добавить фотографию\"\n        onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements content__section\">\n        <ul className=\"elements__list\">\n        {cards.map((card) => (\n          <Card onClick={props.onCardClick} card={card} />\n          ))}          \n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}