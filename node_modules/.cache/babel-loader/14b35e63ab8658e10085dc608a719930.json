{"ast":null,"code":"import React from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var card=_ref.card,onClick=_ref.onClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var currentUser=React.useContext(CurrentUserContext);var isOwned=card.owner._id===currentUser._id;var isLiked=card.likes.some(function(item){return item._id===currentUser._id;});var cardDeleteButtonClassName=\"element__delete-btn \".concat(isOwned?'':'element__delete-btn_hidden');var cardLikeButtonClassName=\"element__like-btn \".concat(isLiked?'element__like-btn_active':'');var handleClick=function handleClick(){onClick(card);};var handleLikeClick=function handleLikeClick(){onCardLike(card);};var handleDeleteClick=function handleDeleteClick(){onCardDelete(card);};return/*#__PURE__*/_jsxs(\"li\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:handleClick,className:\"element__image\",src:card.link,alt:\"\\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \".concat(card.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__desc\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"element__title\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__like-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLikeClick,className:cardLikeButtonClassName,type:\"button\",\"aria-label\":\"\\u041F\\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043B\\u0430\\u0439\\u043A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"element__like-count\",children:card.likes.length})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteClick,className:cardDeleteButtonClassName,type:\"button\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E\"})]});}export default Card;","map":{"version":3,"sources":["/Users/eldorado/dev/mesto-react/src/components/Card.js"],"names":["React","CurrentUserContext","Card","card","onClick","onCardLike","onCardDelete","currentUser","useContext","isOwned","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","handleClick","handleLikeClick","handleDeleteClick","link","name","length"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,IAAT,MAA2D,IAA3CC,CAAAA,IAA2C,MAA3CA,IAA2C,CAArCC,OAAqC,MAArCA,OAAqC,CAA5BC,UAA4B,MAA5BA,UAA4B,CAAhBC,YAAgB,MAAhBA,YAAgB,CACzD,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBP,kBAAjB,CAApB,CAEA,GAAMQ,CAAAA,OAAO,CAAGN,IAAI,CAACO,KAAL,CAAWC,GAAX,GAAmBJ,WAAW,CAACI,GAA/C,CACA,GAAMC,CAAAA,OAAO,CAAGT,IAAI,CAACU,KAAL,CAAWC,IAAX,CAAgB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACJ,GAAL,GAAaJ,WAAW,CAACI,GAA7B,EAApB,CAAhB,CAEA,GAAMK,CAAAA,yBAAyB,+BACNP,OAAO,CAAG,EAAH,CAAQ,4BADT,CAA/B,CAIA,GAAMQ,CAAAA,uBAAuB,6BACNL,OAAO,CAAG,0BAAH,CAAgC,EADjC,CAA7B,CAIA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBd,OAAO,CAACD,IAAD,CAAP,CACD,CAFD,CAIA,GAAMgB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5Bd,UAAU,CAACF,IAAD,CAAV,CACD,CAFD,CAIA,GAAMiB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9Bd,YAAY,CAACH,IAAD,CAAZ,CACD,CAFD,CAIA,mBACE,YAAI,SAAS,CAAC,SAAd,wBACE,YAAK,OAAO,CAAEe,WAAd,CAA2B,SAAS,CAAC,gBAArC,CAAsD,GAAG,CAAEf,IAAI,CAACkB,IAAhE,CAAsE,GAAG,8EAAiBlB,IAAI,CAACmB,IAAtB,CAAzE,EADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,UAAgCnB,IAAI,CAACmB,IAArC,EADF,cAEE,aAAK,SAAS,CAAC,yBAAf,wBACE,eAAQ,OAAO,CAAEH,eAAjB,CAAkC,SAAS,CAAEF,uBAA7C,CAAsE,IAAI,CAAC,QAA3E,CAAoF,aAAW,iFAA/F,EADF,cAEE,aAAM,SAAS,CAAC,qBAAhB,UAAuCd,IAAI,CAACU,KAAL,CAAWU,MAAlD,EAFF,GAFF,GAFF,cASE,eAAQ,OAAO,CAAEH,iBAAjB,CAAoC,SAAS,CAAEJ,yBAA/C,CAA0E,IAAI,CAAC,QAA/E,CAAwF,aAAW,yGAAnG,EATF,GADF,CAcD,CAED,cAAed,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwned = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (\n    `element__delete-btn ${isOwned ? '' : 'element__delete-btn_hidden'}`\n  );\n\n  const cardLikeButtonClassName = (\n    `element__like-btn ${isLiked ? 'element__like-btn_active' : ''}`\n  ); \n\n  const handleClick = () => {\n    onClick(card);\n  }\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return(\n    <li className=\"element\">\n      <img onClick={handleClick} className=\"element__image\" src={card.link} alt={`Изображение ${card.name}`} />\n      <div className=\"element__desc\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\" aria-label=\"Поставить лайк\"></button>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n      <button onClick={handleDeleteClick} className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить фотографию\"></button>\n    </li>\n  );\n\n}\n\nexport default Card; "]},"metadata":{},"sourceType":"module"}